<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Getting Started: Serving Web Content</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
          integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="/css/user.css"/>
</head>
<body>
<header>
    <div class="emblem">
        <div style="background-color: yellow">
            <img src="/images/frontal-taxi-cab.png">
        </div>
        <div style="background-color: yellow"></div>
        <div style="background-color: yellow">
            <a href="/main">
                <button type="button" class="btn btn-dark btn-lg">Меню</button>
            </a>
        </div>
    </div>
</header>
<div class="mainBlock" style="background-color: #34383b;border-radius: 50px;padding-top: 60px">
    <div style="background-color: darkkhaki;margin: 0 auto;width: 600px;border-radius: 20px">
        <td th:text="${message} ?: null"/>
        <form method="post" style="margin-left: 15%;padding-top: 10px">
            <div class="modal-body">
                <div class="form-group row">
                    <div class="col-sm-10">
                        <input class="form-control" type="text" name="username" th:value="${user.username}"/>
                    </div>
                </div>
                <div class="form-group row">
                    <div class="col-sm-10">
                        <input class="form-control" type="text" name="password" th:value="${user.password}"/>
                    </div>
                </div>
                <div class="form-group row">
                    <div class="col-sm-10">
                        <div th:each="role : ${user.roles}">
                            <select class="form-control" name="role">
                                <option value="USER" th:selected="${role == T(taxiservice.entity.Role).USER}">
                                    Пользователь
                                </option>
                                <option value="ADMIN" th:selected="${role == T(taxiservice.entity.Role).ADMIN}">
                                    Администратор
                                </option>
                                <option value="TAXIDRIVER"
                                        th:selected="${role == T(taxiservice.entity.Role).TAXIDRIVER}">
                                    Таксист
                                </option>
                            </select>
                        </div>
                    </div>
                </div>
                <div class="form-group row">
                    <div class="col-sm-10">
                        <input class="form-control" type="text" name="name"
                               th:value="${user.person} ? ${user.person.name} : ''"/>
                    </div>
                </div>

                <div class="form-group row">
                    <div class="col-sm-10">
                        <input class="form-control" type="text" name="surname"
                               th:value="${user.person} ? ${user.person.surname} : ''"/>
                    </div>
                </div>
                <div class="form-group row">
                    <div class="col-sm-10">
                        <input class="form-control" type="text" name="phoneNumber"
                               th:value="${user.person} ? ${user.person.phoneNumber} : ''"/>
                    </div>
                </div>

                <div class="form-group row">
                    <div class="col-sm-10">
                        <input class="form-control"
                               type="hidden"
                               th:name="userId"
                               th:value="${user.id}"/>
                    </div>
                </div>
                <div class="form-group row">
                    <div class="col-sm-10">
                        <input class="form-control"
                               type="hidden"
                               th:name="personId"
                               th:value="${user.person.id}"/>
                    </div>
                </div>

                <div class="form-group row">
                    <div class="col-sm-10">
                        <input class="form-control"
                               type="hidden"
                               th:name="${_csrf.parameterName}"
                               th:value="${_csrf.token}"/>
                    </div>
                </div>

                <button class="buttonEdit" type="submit">Изменить</button>
            </div>
        </form>

    </div>
</div>
</body>
</html>