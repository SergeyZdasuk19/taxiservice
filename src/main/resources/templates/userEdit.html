<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Getting Started: Serving Web Content</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
</head>
<body>

<div>
    <td th:text="${message} ?: null" />
    <form method="post">

        <input type="text" name="username" th:value="${user.username}" />
        <input type="text" name="password" th:value="${user.password}" />

        <div  th:each="role : ${user.roles}">
            <select name="role">
                <option value="USER" th:selected="${role == 'USER'}"> Пользователь </option>
                <option value="ADMIN" th:selected="${role == 'ADMIN'}"> Администратор </option>
                <option value="TAXIDRIVER" th:selected="${role == 'TAXIDRIVER'}"> Таксист </option>

            </select>
        </div>
        <input type="text" name="name" th:value="${user.person} ? ${user.person.name} : ''" />
        <input type="text" name="surname" th:value="${user.person} ? ${user.person.surname} : ''" />
        <input type="text" name="phoneNumber" th:value="${user.person} ? ${user.person.phoneNumber} : ''" />
        <input
                type="hidden"
                th:name="userId"
                th:value="${user.id}" />
        <input
                type="hidden"
                th:name="personId"
                th:value="${user.person.id}" />

        <input
                type="hidden"
                th:name="${_csrf.parameterName}"
                th:value="${_csrf.token}" />
        <button type="submit">Изменить</button>
    </form>
</div>

</body>
</html>